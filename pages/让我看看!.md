# 让我看看

本篇，我们将介绍一下一份C语言代码的层次结构和一些相关的小知识。

## Hello World

首先，一起来看一下C语言的hello world代码

```clike
# include <stdio.h>

int main(){
    printf("Hello world\n");
    return 0;
}
```

让我们先来看看`#include <stdio.h>`，这个叫做**预处理指令**，用来告诉C语言编译器，在编译下面的代码之前要首先导入`stdio.h`这个文件。

> [!ATTENTION]
> 在前期简单的编程中，我们只需要了解`stdio.h`，它的全称是**Standard Input Output**，即**标准输入输出**，而不是一些同学写的`studio.h`

紧接着是`main`函数，它是一个C语言程序的入口，C语言程序运行时，会从入口开始运行，又叫**主函数**，所以是`main`这个单词，而不是有些同学一紧张写出来的`int mian()`

>[!NOTE]
> 说到函数，肯定会有人联想到数学函数$f(x)$，毕竟长得很像。但也有不同，这个`main()`函数怎么没有自变量？这里应该注意，`main()`函数一般没有参数（对，数学里的自变量在这里叫参数），下面会提到。

下面一个是大括号之间的内容，名曰**函数体**。函数体由一对大括号包围，里面通常包含以下两部分：
 - 若干语句：程序运行的全部内容，不同语句之间**换行**并用**分号隔开**。这里可能会有疑问，我都断行了为啥还要分号隔开？请注意，C语言编译器并**不以换行作为分隔依据**，而是以分号作为依据，也就是说下面那**一坨代码**也是**可以运行**的，换行是增加代码可读性的一个方法。
 ```clike
#include <stdio.h> int main(){printf("Hello World");return 0;}
 ```

 - 返回值：程序运行结束后，会返回一个值，作为这个函数的结果并标志函数体的结尾。

以上，就是一个简单的C语言程序的结构。在一个C语言源码文件中，可以有多个函数，但只能有一个`main()`函数。（道理也很简单，如果有多个入口时，编译器不知道从那个入口进）~这句话怎么越读越不对劲🤔~

## *杰哥不要啊！*

这里讲一些不需要掌握的小故事。

按照最新的**C语言标准**，上面的`HelloWorld`程序可以做以下简化：

```clike
# include <stdio.h>

int main(){
    printf("Hello world\n");
}
```
呃，好像也不怎么简化。总之省去了返回值语句。在最新的标准中，当要返回`0`时，可以省略`return 0;`语句，默认返回一个`0`；此外，那个`int`也可以改写成`void`，表示这段函数什么也不返回。

上面说的这些简化，是在**C99标准**及后续标准中允许的，先前的标准（C89、C90）并不允许这样。

一般来说，`main()`函数不带参数，但是从**C99**起，也可以带参数了。

> [!TIP]
> **C语言标准**
>
> C语言标准是正式规定和定义C语言语法、语义和库函数等内容的技术文件。它由标准化组织制定和发布,以确保C语言的一致性和兼容性。
> 
> 目前，C语言标准已经经历了这些岁月：
> 
> - C语言最初没有正式标准，直到1989年第一个ANSI C标准发布，也称为C89或C90。
> - 1990年，ANSI C标准被国际标准化组织ISO采纳，形成了第一个国际标准ISO/IEC 9899:1990。
> - 1999年，C99标准发布，加入了一些新特征，比如//注释、变量声明在代码块开头、内联函数等。~C99之前的程序员甚至不用写注释~ 。   C99之前用多行注释来注释 
> - 2011年，C11标准发布，加入了多线程支持、类型generic、原子操作等新特性。
> - 2018年，C17标准发布，对C11做了一些修订，增加了一些新特性，是一个相对小的改动。
> - 2023年，C2x标准草案发布，预计在2024年正式发布，增加合同式编程等新特性。


